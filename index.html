<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />

    <title>üåô Good night, dear.</title>
    <meta name="title" content="üåô Good night, dear." />
    <meta
      name="description"
      content="Maybe, Skoy bedtime story is not okay for your kids."
    />

    <!-- OG/Fb -->
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://noobtoberfest.netlify.com/good-night-dear/"
    />
    <meta property="og:title" content="üåô Good night, dear." />
    <meta
      property="og:description"
      content="Maybe, Skoy bedtime story is not okay for your kids."
    />
    <meta
      property="og:image"
      content="https://scontent.fbkk22-3.fna.fbcdn.net/v/t1.0-9/72288700_3140672012640713_420079086090584064_n.jpg?_nc_cat=102&_nc_oc=AQnaQlkB7xwT_oZ3JodKCUENs04oJGHVBDrqTpu4MqaWETxAEJCa4pj8xowwdxoY5HA&_nc_ht=scontent.fbkk22-3.fna&oh=dab7b71234429755d4108c01f1a3f404&oe=5E21A7EE"
    />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta
      property="twitter:url"
      content="https://noobtoberfest.netlify.com/good-night-dear/"
    />
    <meta property="twitter:title" content="üåô Good night, dear." />
    <meta
      property="twitter:description"
      content="Maybe, Skoy bedtime story is not okay for your kids."
    />
    <meta
      property="twitter:image"
      content="https://scontent.fbkk22-3.fna.fbcdn.net/v/t1.0-9/72288700_3140672012640713_420079086090584064_n.jpg?_nc_cat=102&_nc_oc=AQnaQlkB7xwT_oZ3JodKCUENs04oJGHVBDrqTpu4MqaWETxAEJCa4pj8xowwdxoY5HA&_nc_ht=scontent.fbkk22-3.fna&oh=dab7b71234429755d4108c01f1a3f404&oe=5E21A7EE"
    />

    <!-- COLORS -->
    <meta name="theme-color" content="#28272d">
    <meta name="msapplication-navbutton-color" content="#28272d">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link
      href="https://fonts.googleapis.com/css?family=Mali&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="https://unpkg.com/papercss@1.6.1/dist/paper.min.css" />
    <style>
      html,
      p,
      a,
      button,
      textarea,
      h1 {
        font-family: "Mali", cursive;
        line-height: 1.7;
      }
    </style>
  </head>
  <body
    style="background:url(https://scontent.fbkk22-3.fna.fbcdn.net/v/t1.0-9/72288700_3140672012640713_420079086090584064_n.jpg?_nc_cat=102&_nc_oc=AQnaQlkB7xwT_oZ3JodKCUENs04oJGHVBDrqTpu4MqaWETxAEJCa4pj8xowwdxoY5HA&_nc_ht=scontent.fbkk22-3.fna&oh=dab7b71234429755d4108c01f1a3f404&oe=5E21A7EE) fixed"
  >
    <br />
    <div id="app" class="paper container border border-primary">
      <!-- HEADER -->
      <header style="text-align:center">
        <h1 style="margin:0">üåô Good night, dear.</h1>
        <p style="margin:0"
          >‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô: ‡πÉ‡∏´‡πâ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ö‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô‡∏à‡∏≤‡∏Å‡∏ô‡∏¥‡∏ó‡∏≤‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡∏™‡∏Å‡πä‡∏≠‡∏¢‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</p
        >
      </header>
      <br />
      <!-- SKOY STORY -->
      <div class="border border-4 border-primary shadow" style="padding:1rem">{{
        skoy
      }}</div>
      <br />
      <!-- INPUT -->
      <textarea
        placeholder="‡∏Å‡∏≤‡∏•‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏ô‡∏≤‡∏ô‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß..."
        v-model="translated"
        rows="3"
        style="width:100%;resize:none;overflow-y:auto"
      ></textarea>
      <br />
      <!-- BUTTONS -->
      <div class="row">
        <div class="sm-6 col" style="padding:0">
          <button id="changeStory" @click="generateStory">üîÑ ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÇ‡∏à‡∏ó‡∏¢‡πå</button>
        </div>
        <div class="sm-6 col" style="padding:0;text-align:right">
          <button id="checkStory" @click="checkStory">‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö ‚úÖ</button>
        </div>
      </div>
      <br />
      <!-- CREDITS -->
      <footer>
        <b>‡∏™‡∏£‡∏£‡∏Ñ‡πå‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏ß‡∏î‡∏´‡∏±‡∏ß‡πÇ‡∏î‡∏¢:</b>
        <a href="https://github.com/rootEnginear">rootEnginear</a><br />
        <b>Resources:</b>
        <ul style="margin:0;padding-left:1rem">
          <li><a href="http://www.kalyanamitra.org/th/Aesop_list.php">‡∏ô‡∏¥‡∏ó‡∏≤‡∏ô‡∏≠‡∏µ‡∏™‡∏õ‡∏™‡∏≠‡∏ô‡πÉ‡∏à</a></li>
          <li><a href="https://www.getpapercss.com/">PaperCSS</a></li>
          <li
            ><a href="https://fonts.google.com/specimen/Mali">Mali - Google Fonts</a></li
          >
          <li><a href="https://vuejs.org/">Vue.js</a></li>
          <li><a href="https://github.com/kpdecker/jsdiff">jsdiff</a></li>
          <li><a href="https://github.com/narze/toSkoy">toSkoy</a></li>
          <li
            ><a href="https://www.freepik.com/free-photos-vectors/background"
              >Background vector created by rawpixel.com</a
            ></li
          >
        </ul>
      </footer>
      <!-- MODAL -->
      <input class="modal-state" ref="modal-1" id="modal-1" type="checkbox" />
      <div class="modal">
        <div class="modal-bg"></div>
        <div id="modal-body" class="modal-body border border-3" style="border-color:#41403e">
          <div style="font-weight:bold;text-align:center;font-size:2rem"
            >‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏õ‡∏•‡∏ñ‡∏π‡∏Å:
            <span
              :style="{color:['red','orange','green','green'][Math.floor(modalPercentage/(100/3))]}"
              >{{ modalPercentage }}%</span
            ></div
          >
          <div style="font-weight:bold">‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏£‡∏¥‡∏á:</div>
          <p id="result" class="modal-text" v-html="modalContentCorrent"></p>
          <div
            v-if="modalPercentage !== 0 && modalPercentage !== 100"
            style="font-weight:bold"
            >‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏õ‡∏•:</div
          >
          <p
            id="result"
            class="modal-text"
            v-if="modalPercentage !== 0 && modalPercentage !== 100"
            v-html="modalContentInput"
          ></p>
          <div style="text-align:center">
            <button id="newStory" @click="newStory">üìÉ ‡∏•‡∏≠‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà</button>
          </div>
        </div>
      </div>
    </div>
    <br />
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jsdiff/4.0.1/diff.min.js"
      integrity="sha256-xofEpXTFTnsOK+GIsjgJc1ZN0kSE3KsTtZJ2GQaWs3I="
      crossorigin="anonymous"
    ></script>
    <script>
      // toSkoyJS: https://github.com/narze/toSkoy
      (function() {
        var db = {},
          maxLength = 0;

        function learnWord(from, to) {
          if (to.push && to.length) {
            for (var i = 0; i < to.length; i++) {
              learnWord(from, to[i]);
            }
            return;
          }
          var array = db[from] || (db[from] = []);
          array[array.length] = to;
          if (to.length > maxLength) maxLength = to.length;
        }

        function learnPhrase(original, translated) {
          original = original.split(",");
          translated = translated.split(",");
          if (original.length != translated.length) {
            throw new Error("count mismatch!");
          }
          for (var i = 0; i < original.length; i++) {
            learnWord(original[i], translated[i]);
          }
        }

        function learn(obj) {
          for (var i in obj) {
            learnWord(i, obj[i]);
          }
        }

        function has(str) {
          return !!db[str];
        }

        var karans = "‡∏´‡πå,‡∏©‡πå,‡∏ã‡πå,‡∏ö‡πå,‡∏õ‡πå,‡∏å‡πå".split(",");
        function karan() {
          return karans[Math.floor(Math.random() * karans.length)];
        }

        function get(str) {
          var c = db[str],
            result = c[Math.floor(Math.random() * c.length)],
            endingPattern = /[‡∏Å-‡∏Æ]$/;
          if (result.length > 1) {
            if (result.match(endingPattern)) {
              result = result.replace(endingPattern, function(a) {
                var random = Math.random();
                if (random < 0.2) return karan() + a;
                if (random < 0.3) return a + karan();
                return a;
              });
            }
          }
          return result;
        }

        function learnShift(from, to) {
          learnWord(from, from);
          learnWord(from, to);
          learnWord(from, to);
          learnWord(to, to);
          learnWord(to, to);
          learnWord(to, from);
        }

        learn({
          "‡∏π": "‡∏∏‡πä",
          ‡∏∞: "‡πä",
          ‡∏î: "‡∏é",
          ‡∏ï: "‡∏è",
          ‡∏Ç: "‡∏Ü",
          ‡∏ó: "‡∏ò",
          "‡∏µ": "‡∏¥‡πä",
          "‡πâ": "‡πä",
          ‡∏≤: "‡πä",
          ‡∏â: "‡∏ä‡πã"
        });

        learn({
          ‡∏´‡∏ô‡∏∏: "‡∏ô‡∏∏‡πä‡∏ß‡∏ã‡πå",
          ‡∏≠‡∏¢‡∏≤‡∏Å: "‡∏ç‡∏±‡πä‡∏Ç",
          ‡∏Ñ‡∏∞: "‡∏Ç‡∏£‡πä",
          ‡∏Ñ‡πà‡∏∞: "‡∏Ü‡∏£‡πà",
          "‡∏±‡∏ô": "‡∏±‡∏•",
          ‡∏ß‡∏Å: "‡πä‡∏Å",
          "‡∏±‡∏Å": "‡∏±‡∏Ç"
        });

        learnWord("‡∏≠", "‡∏≠");
        learnWord("‡∏≠", "‡∏≠");
        learnWord("‡∏≠", "‡∏Æ");

        learnShift("‡∏°", "‡∏í");
        learnShift("‡∏û", "‡∏†");
        learnShift("‡∏†", "‡∏û");
        learnShift("‡∏ô", "‡∏ì");
        learnShift("‡∏ô", "‡∏Ø");
        learnShift("‡∏¢", "‡∏ç");

        learnPhrase("‡∏™,‡∏°‡∏≤,‡∏Ñ‡∏°,‡∏ô‡∏¥,‡∏¢‡∏°,‡∏™‡∏Å‡πä‡∏≠‡∏¢", "‡∏©,‡∏°‡πà,‡∏Ñ‡πà‡∏•‡πå‡∏°,‡∏ô‡∏¥‡πã,‡∏ç‡∏í,‡∏™‡∏Å‡πä‡∏≠‡∏¢");

        learnPhrase(
          "‡∏û‡∏ß‡∏Å,‡∏Ñ‡∏∏‡∏ì,‡∏à‡∏∞,‡∏ß‡πà‡∏≤,‡∏≠‡∏∞,‡πÑ‡∏£,‡∏Å‡πá,‡πÄ‡∏ä‡∏¥‡∏ç,‡πÄ‡∏•‡∏¢,‡∏ô‡∏∞,‡∏û‡∏ß‡∏Å,‡πÄ‡∏£‡∏≤,‡πÑ‡∏°‡πà,‡∏™‡∏ô,‡∏´‡∏£‡∏≠‡∏Å",
          "‡∏û‡πä‡∏Å,‡∏Ñ‡∏∏‡πä‡∏•,‡∏à‡πà,‡∏ß‡πà,‡∏≠‡πà,‡∏£‡∏±‡πä‡∏¢,‡∏Å‡πà,‡πÄ‡∏ã‡∏¥‡∏¨,‡πÄ‡∏£‡πà‡∏¢,‡∏ô‡πä,‡∏û‡πä‡∏Å,‡πÄ‡∏•‡∏≤,‡πÑ‡∏°‡πä,‡∏™‡πà‡∏ô,‡∏´‡∏£‡πà‡∏≠‡∏Å"
        );

        // https://www.facebook.com/sowhateiei/posts/333737343378863

        learnPhrase(
          /*'‡∏´‡∏ô‡∏π*/ "‡∏°‡∏µ,‡∏ô‡∏¥,‡∏ó‡∏≤‡∏ô,‡∏°‡∏≤,‡πÄ‡∏•‡πà‡∏≤,‡πÉ‡∏´‡πâ,‡∏û‡∏µ‡πà,‡∏ü‡∏±‡∏á,‡∏Ñ‡∏∞,‡∏ô‡∏¥,‡∏ó‡∏≤‡∏ô,‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á,‡∏ô‡∏µ‡πâ,‡∏™‡∏≠‡∏ô,‡πÉ‡∏´‡πâ,‡∏£‡∏π‡πâ,‡∏ß‡πà‡∏≤,‡∏ä‡∏≤‡∏ß,‡∏ô‡∏≤,‡∏Å‡∏±‡∏ö,‡∏ó‡∏∞,‡πÄ‡∏•,‡∏ó‡∏µ‡πà,‡∏´‡∏Å",
          /*'‡∏∏‡πä‡∏ã‡πå‡∏ß*/ "‡∏°‡∏£‡∏¥‡πä,‡∏ì‡∏¥‡πä,‡∏ò‡∏≤‡∏á‡πå‡∏£,‡∏°‡πà,‡πÄ‡∏¨‡∏≠‡πà‡∏≤,‡∏´‡∏±‡πä‡∏•‡πå‡∏¢,‡∏û‡∏£‡∏¥‡πä‡∏ï‡πå,‡∏ü‡∏£‡∏±‡πä‡∏Å‡πå‡∏á,‡∏Ñ‡πä,‡∏ì‡∏¥‡πä,‡∏ò‡∏≤‡∏ñ‡πå‡∏Ø,‡πÄ‡∏¨‡∏≠‡∏∑‡πà‡∏ö‡πå‡∏•‡∏á,‡∏ì‡∏¥‡πä,‡∏®‡∏±‡πä‡∏é‡πå,‡∏ç‡∏´‡∏±‡πä‡∏•‡πå,‡∏£‡∏∏‡πä‡∏á‡πå‡∏ß,‡∏ß‡πà,‡∏ä‡∏±‡πä‡∏™‡πå‡∏ß,‡∏ì‡∏Ü‡πå‡∏≤,‡∏Å‡∏±‡πä‡∏ú,‡∏ë‡∏∞,‡πÄ‡∏¨,‡∏ò‡∏¥‡πä‡∏Ü‡πå,‡∏´‡∏Ñ‡πå‡∏Å"
        );
        learnPhrase(
          "‡∏Å‡∏≤‡∏•,‡∏Ñ‡∏£‡∏±‡πâ‡∏á,‡∏´‡∏ô‡∏∂‡∏á,‡∏ä‡∏≤‡∏ß,‡∏ô‡∏≤,‡∏Å‡∏≥,‡∏•‡∏±‡∏á,‡∏´‡∏≤,‡∏õ‡∏•‡∏≤,‡∏≠‡∏¢‡∏π‡πà,‡πÉ‡∏ô,‡πÅ‡∏ï‡πà,‡∏ß‡πà‡∏≤,‡∏´‡∏≤,‡∏¢‡∏±‡∏á,‡πÑ‡∏á,‡∏Å‡πá,‡πÑ‡∏°‡πà,‡πÄ‡∏à‡∏≠,‡∏ä‡∏≤‡∏ß,‡∏ô‡∏≤,‡∏Å‡πá,‡πÄ‡∏•‡∏¢,‡πÑ‡∏õ",
          "‡∏Å‡∏±‡πä‡∏£‡∏¨‡∏ß‡πå‡∏∞,‡∏Ö‡∏±‡πä‡∏ê‡πå‡∏á‡∏´‡∏™‡∏∏‡πå,‡∏ì‡∏∂‡πà,‡∏ä‡∏±‡πä‡∏¢‡πå‡∏ß,‡∏ì‡∏Ü‡πå‡∏≤,‡∏Å‡∏±‡πä,‡∏£‡πå‡∏¨,‡∏´‡πä‡∏©‡πå‡∏≤,‡∏õ‡∏ò‡πå‡∏¨‡∏≤,‡∏¢‡∏∏‡πä‡∏ß‡πå‡∏ã,‡∏ô‡∏±‡πä‡∏ö‡πå‡∏¢,‡∏ï‡πà,‡∏ß‡πä‡∏û‡πå,‡∏´‡πä‡∏©‡πå‡∏≤,‡∏ç‡∏±‡πä‡∏•‡πå‡∏á,‡∏á‡∏±‡πä,‡∏Å‡πç,‡∏°‡∏£‡∏±‡πä‡∏•‡πå‡∏¢,‡πÄ‡πó‡∏≠,‡∏ä‡∏±‡πä‡∏ã‡πå‡∏ß,‡∏ì‡∏©‡πå‡∏≤,‡∏Å‡πà,‡πÄ‡∏£‡πà‡∏£‡∏£,‡∏õ‡∏±‡πä‡∏ö‡πå‡∏¢"
        );
        learnPhrase(
          "‡∏¢‡∏¥‡∏ô,‡∏î‡∏µ,‡∏ï‡πâ‡∏≠‡∏ô,‡∏£‡∏±‡∏ö,‡∏û‡∏µ‡πà,‡∏ó‡∏∏‡∏Å,‡∏Ñ‡∏ô,‡∏ô‡∏∞,‡∏Ñ‡∏∞,‡∏û‡∏µ‡πà,‡∏à‡∏∞,‡∏î‡πà‡∏≤,‡∏à‡∏∞,‡∏ß‡πà‡∏≤,‡πÑ‡∏á",
          "‡∏ç‡∏¥‡∏£‡πå‡∏ô,‡∏î‡∏•‡∏µ‡∏£‡πå,‡∏ï‡∏±‡πä‡∏£‡πå‡∏ô,‡∏£‡∏±‡πä‡∏ú,‡∏ú‡∏£‡∏¥‡πä,‡∏ò‡∏∏‡πä‡∏Ü,‡∏É‡πä‡∏•,‡∏ô‡πä,‡∏Ü‡πä,‡∏û‡∏£‡∏¥‡πä,‡∏à‡πà,‡∏é‡πà‡∏≤,‡∏à‡πà,‡∏ß‡πä‡∏£‡πå‡∏≤,‡∏á‡∏±‡πä‡∏¢"
        );
        learnPhrase(
          "‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß,‡∏´‡∏ô‡∏π,‡πÑ‡∏õ,‡∏´‡∏≤,‡∏≠‡∏∞‡πÑ‡∏£,‡∏Å‡∏¥‡∏ô,‡∏Å‡πà‡∏≠‡∏ô,‡∏ô‡∏∞,‡∏´‡∏¥‡∏ß,‡πÅ‡∏•‡πâ‡∏ß",
          "‡πÄ‡∏é‡∏¥‡πã‡∏ç‡∏ß,‡∏´‡∏ô‡∏∏‡πä,‡∏õ‡∏±‡πä‡∏ö‡πå‡∏¢,‡∏´‡πä‡∏©‡πå‡∏≤,‡∏≠‡πà‡∏£‡∏±‡πä‡∏¢,‡∏Å‡∏¥‡πä‡∏•,‡∏Å‡πà‡∏Æ‡∏Ø,‡∏ô‡πä,‡∏Æ‡∏¥‡πã‡∏ã‡πå‡∏ß,‡πÄ‡∏£‡πà‡∏£‡∏¨‡∏¨"
        );
        learnPhrase(
          "‡∏°‡∏£‡∏µ,‡πÄ‡πÄ‡∏ù‡∏ì,‡∏§,‡∏¢‡∏±‡∏á,‡∏Ö‡∏¥‡∏é,‡πÄ‡∏ñ‡∏¥‡∏á,‡∏ì‡∏∞,‡∏É‡∏≠,‡πÄ‡∏ö‡∏≠‡∏•‡πå,‡∏´‡∏ô‡πà‡∏≠‡∏ç",
          "‡∏°‡∏µ,‡πÅ‡∏ü‡∏ô,‡∏´‡∏£‡∏∑‡∏≠,‡∏¢‡∏±‡∏á,‡∏Ñ‡∏¥‡∏î,‡∏ñ‡∏∂‡∏á,‡∏ô‡∏∞,‡∏Ç‡∏≠,‡πÄ‡∏ö‡∏≠‡∏£‡πå,‡∏´‡∏ô‡πà‡∏≠‡∏¢"
        );
        // my head exploded. someone else add more phrases plox kthx

        String.prototype.toSkoy = function() {
          var skoy = "";
          for (var i = 0; i < this.length; ) {
            var success = false;
            for (var l = maxLength; l > 0; l--) {
              var sub = this.substr(i, l);
              if (has(sub)) {
                skoy += get(sub);
                success = true;
                i += l;
                break;
              }
            }
            if (success) continue;
            skoy += this.charAt(i);
            i += 1;
          }
          return skoy;
        };
      })();
    </script>
    <script defer>
      let app = new Vue({
        el: "#app",
        mounted: function() {
          fetch(
            "https://raw.githubusercontent.com/rootEnginear/thai-aesop-lstm/master/data/aesop/input.txt"
          )
            .then(x => x.text())
            .then(x => {
              this.data = x.replace(/ ‡πÜ /g, "‡πÜ ").split(" ");
              this.generateStory();
            });
        },
        data: function() {
          return {
            data: "",
            text: "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...",
            translated: "",
            modalContentCorrent: "",
            modalContentInput: "",
            modalPercentage: 0.0
          };
        },
        computed: {
          skoy: function() {
            return this.text.toSkoy();
          }
        },
        methods: {
          generateStory: function() {
            let textLength = 5;
            let index = Math.floor(Math.random() * (3066 - textLength)); //3066 is data length
            this.text = this.data.slice(index, index + textLength).join(" ");
            this.translated = "";
          },
          toggleModal: function() {
            this.$refs["modal-1"].click();
          },
          checkStory: function() {
            let formattedInput = this.translated.trim().replace(/\s+/g, " "),
              diff = Diff.diffChars(this.text, formattedInput),
              diffReal = "",
              diffInput = "",
              charLength = 0,
              charCorrect = 0;
            diff.forEach(function(part) {
              if (part.added) {
                diffInput += "<span style='color:red'>" + part.value + "</span>";
              } else if (part.removed) {
                charLength += part.value.length;
                diffReal += "<span style='color:green'>" + part.value + "</span>";
              } else {
                diffInput += part.value;
                diffReal += part.value;
                charCorrect += part.value.length;
                charLength += part.value.length;
              }
            });
            this.modalContentCorrent = diffReal;
            this.modalContentInput = diffInput;
            this.modalPercentage = Math.round((charCorrect / charLength) * 10000) / 100;
            this.toggleModal();
          },
          newStory: function() {
            this.generateStory();
            this.toggleModal();
          }
        }
      });
    </script>
  </body>
</html>
